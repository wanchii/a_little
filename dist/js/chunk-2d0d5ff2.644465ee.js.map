{"version":3,"sources":["webpack:///./src/views/front/Checkout_payment.vue?2136","webpack:///src/views/front/Checkout_payment.vue","webpack:///./src/views/front/Checkout_payment.vue?8717","webpack:///./src/views/front/Checkout_payment.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_m","_s","order","user","name","email","address","payment","isProcessing","on","$event","preventDefault","payNow","_e","staticStyle","_l","item","key","product","id","imageUrl","title","quantity","_f","price","subTotal","coupon","discount","amount","staticRenderFns","data","orderId","order_products","isLoading","created","$route","params","getOrder","methods","$http","component"],"mappings":"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","file":"js/chunk-2d0d5ff2.644465ee.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"py-3\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-7 col-md-12 col-12 mb-md-3\"},[_c('div',{staticClass:\"py-1 d-flex justify-content-between\"},[_c('router-link',{staticClass:\"btn text-primary text-left\",attrs:{\"to\":\"/cart\"}},[_c('i',{staticClass:\"fas fa-long-arrow-alt-left\"}),_vm._v(\" 回到購物車 \")]),_c('router-link',{staticClass:\"passeroOne h4 text-primary font-weight-bold\",attrs:{\"to\":\"/\"}},[_vm._v(\" a little \")])],1),_c('div',{staticClass:\"check border mt-1 p-3\"},[_vm._m(0),_c('div',{staticClass:\"mb-4\"},[_c('div',{staticClass:\"d-flex align-items-center bg-light p-2 mb-2\"},[_c('h6',{staticClass:\"font-weight-bold text-muted mb-0\"},[_vm._v(\"訂購姓名:\")]),_c('p',{staticClass:\"mb-0 ml-2 text-primary-light\"},[_vm._v(_vm._s(_vm.order.user.name))])]),_c('div',{staticClass:\"d-flex align-items-center bg-light p-2 mb-2\"},[_c('h6',{staticClass:\"font-weight-bold text-muted mb-0\"},[_vm._v(\"電子郵件:\")]),_c('p',{staticClass:\"mb-0 ml-2 text-primary-light\"},[_vm._v(_vm._s(_vm.order.user.email))])]),_c('div',{staticClass:\"d-flex align-items-center bg-light p-2 mb-2\"},[_c('h6',{staticClass:\"font-weight-bold text-muted mb-0\"},[_vm._v(\"地址:\")]),_c('p',{staticClass:\"mb-0 ml-2 text-primary-light\"},[_vm._v(_vm._s(_vm.order.user.address))])])]),_c('h4',[_vm._v(\"付款確認\")]),_c('div',{staticClass:\"p-2 bg-light d-flex justify-content-between mb-4\"},[_c('h6',{staticClass:\"font-weight-bold text-muted mb-0\"},[_vm._v(\"付款方式\")]),_c('p',{staticClass:\"mb-0 text-primary-light \"},[_vm._v(_vm._s(_vm.order.payment))])]),_c('div',{staticClass:\"d-flex justify-content-end\"},[_c('button',{staticClass:\"btn btn-danger\",attrs:{\"disabled\":_vm.isProcessing},on:{\"click\":function($event){$event.preventDefault();return _vm.payNow($event)}}},[_vm._v(\" 確認付款 \"),(_vm.isProcessing)?_c('i',{staticClass:\"fas fa-spinner fa-spin\"}):_vm._e()])])])]),_c('div',{staticClass:\"col-lg-5 col-md-12 col-12\"},[_c('div',{staticClass:\"bg-base py-6 px-3  sticky-top\",staticStyle:{\"min-height\":\"100vh\"}},[_c('h3',{staticClass:\"px-5\"},[_vm._v(\"訂單明細\")]),_c('div',{staticClass:\"order p-5\"},[_c('table',{staticClass:\"table order-table\"},[_c('thead',_vm._l((_vm.order_products),function(item){return _c('tr',{key:item.product.id + 1},[_c('td',[_c('img',{staticClass:\"table-img\",attrs:{\"src\":item.product.imageUrl[0],\"alt\":\"\"}})]),_c('td',{staticClass:\"font-weight-bold text-vcraftsman-dark\"},[_vm._v(\" \"+_vm._s(item.product.title)+\" \"+_vm._s(item.quantity)+\" \")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(item.product.price * item.quantity))+\" \")])])}),0),_c('tbody',[_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_vm._v(\"小計\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"NT\"+_vm._s(_vm.subTotal))])]),_c('tr',[(_vm.order.coupon)?_c('td',{attrs:{\"colspan\":\"2\"}},[_vm._v(_vm._s(_vm.order.coupon))]):_c('td',{staticClass:\"text-muted\",attrs:{\"colspan\":\"2\"}},[_vm._v(\" 沒有使用優惠券\")]),_c('td',{staticClass:\"text-right text-danger\"},[_vm._v(_vm._s(_vm.discount)+\" \")])])]),_c('tfoot',[_c('tr',[_c('td',{staticClass:\"font-weight-bold \",attrs:{\"colspan\":\"2\"}},[_vm._v(\"總共\")]),_c('td',{staticClass:\"text-right font-weight-bold \"},[_vm._v(\"NT\"+_vm._s(_vm.order.amount))])])])])])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{attrs:{\"aria-label\":\"breadcrumb\"}},[_c('ol',{staticClass:\"breadcrumb  mb-4\"},[_c('li',{staticClass:\"breadcrumb-item\"},[_vm._v(\" 購物車 \")]),_c('li',{staticClass:\"breadcrumb-item\"},[_vm._v(\" 訂購資訊 \")]),_c('li',{staticClass:\"breadcrumb-item active\",attrs:{\"aria-current\":\"page\"}},[_vm._v(\"付款\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n<div class=\"py-3\">\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-lg-7 col-md-12 col-12 mb-md-3\">\n          <div class=\"py-1 d-flex justify-content-between\">\n              <router-link class=\"btn text-primary text-left\"\n                to=\"/cart\">\n                <i class=\"fas fa-long-arrow-alt-left\"></i> 回到購物車\n              </router-link>\n              <router-link class=\"passeroOne h4 text-primary font-weight-bold\"\n                  to=\"/\">\n                  a little\n                </router-link>\n          </div>\n          <div class=\"check border mt-1 p-3\">\n                <nav aria-label=\"breadcrumb\">\n                  <ol class=\"breadcrumb  mb-4\">\n                    <li class=\"breadcrumb-item\">\n                      購物車\n                    </li>\n                    <li class=\"breadcrumb-item\">\n                      訂購資訊\n                    </li>\n                    <li class=\"breadcrumb-item active\" aria-current=\"page\">付款</li>\n                  </ol>\n                </nav>\n                <div class=\"mb-4\">\n                  <div class=\"d-flex align-items-center bg-light p-2 mb-2\" >\n                    <h6 class=\"font-weight-bold text-muted mb-0\">訂購姓名:</h6>\n                    <p class=\"mb-0 ml-2 text-primary-light\">{{ order.user.name}}</p>\n                  </div>\n                  <div class=\"d-flex align-items-center bg-light p-2 mb-2\" >\n                    <h6 class=\"font-weight-bold text-muted mb-0\">電子郵件:</h6>\n                    <p class=\"mb-0 ml-2 text-primary-light\">{{ order.user.email}}</p>\n                  </div>\n                  <div class=\"d-flex align-items-center bg-light p-2 mb-2\" >\n                    <h6 class=\"font-weight-bold text-muted mb-0\">地址:</h6>\n                    <p class=\"mb-0 ml-2 text-primary-light\">{{ order.user.address}}</p>\n                  </div>\n                </div>\n                <h4>付款確認</h4>\n                <div class=\"p-2 bg-light d-flex justify-content-between mb-4\">\n                  <h6 class=\"font-weight-bold text-muted mb-0\">付款方式</h6>\n                  <p class=\"mb-0 text-primary-light \">{{ order.payment}}</p>\n                </div>\n                <div class=\"d-flex justify-content-end\">\n                  <button class=\"btn btn-danger\"\n                    @click.prevent=\"payNow\" :disabled=\"isProcessing\">\n                      確認付款\n                      <i class=\"fas fa-spinner fa-spin\" v-if=\"isProcessing\"> </i>\n                    </button>\n                </div>\n\n          </div>\n      </div>\n      <div class=\"col-lg-5 col-md-12 col-12\">\n        <div class=\"bg-base py-6 px-3  sticky-top\" style=\"min-height: 100vh;\">\n          <h3 class=\"px-5\">訂單明細</h3>\n          <div class=\"order p-5\">\n            <table class=\"table order-table\">\n              <thead>\n                <tr v-for=\"item in order_products\" :key=\"item.product.id + 1\">\n                  <td>\n                    <img :src=\"item.product.imageUrl[0]\"\n                      alt=\"\" class=\"table-img\">\n                  </td>\n                  <td class=\"font-weight-bold text-vcraftsman-dark\">\n                    {{ item.product.title }} {{ item.quantity }}\n                  </td>\n                  <td class=\"text-right\">\n                    {{ item.product.price * item.quantity  | currency }}\n                  </td>\n                </tr>\n              </thead>\n              <tbody>\n                <tr>\n                  <td colspan=\"2\">小計</td>\n                  <td class=\"text-right\">NT{{ subTotal }}</td>\n                </tr>\n                <tr>\n                  <td colspan=\"2\" v-if=\"order.coupon\">{{ order.coupon }}</td>\n                  <td colspan=\"2\" v-else class=\"text-muted\"> 沒有使用優惠券</td>\n                  <td class=\"text-right text-danger\">{{ discount }} </td>\n                </tr>\n              </tbody>\n              <tfoot>\n                <tr>\n                  <td colspan=\"2\" class=\"font-weight-bold \">總共</td>\n                  <td class=\"text-right font-weight-bold \">NT{{ order.amount }}</td>\n                </tr>\n              </tfoot>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      order: {\n        user: {},\n      },\n      orderId: '',\n      order_products: [],\n      subTotal: 0,\n      discount: 0,\n      isLoading: false,\n      isProcessing: false,\n    };\n  },\n  created() {\n    this.orderId = this.$route.params;\n    this.getOrder();\n  },\n\n  methods: {\n    getOrder() {\n      // GET api/{uuid}/ec/orders/{id}\n      const url = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/ec/orders/${this.orderId.id}`;\n\n      this.isLoading = true;\n      this.$http\n        .get(url)\n        .then((res) => {\n          this.order = res.data.data;\n          this.order_products = this.order.products;\n          this.order_products.forEach((item) => {\n            this.subTotal += item.product.price * item.quantity;\n          });\n          this.isLoading = false;\n        })\n        .catch(() => {\n          this.isLoading = false;\n        });\n    },\n    payNow() {\n      // POST api/{uuid}/ec/orders/{id}/paying\n      const url = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/ec/orders/${this.orderId.id}/paying`;\n      this.isProcessing = true;\n      this.$http\n        .post(url)\n        .then((res) => {\n          if (res.data.data.paid) {\n            this.$router.push('/welldone');\n          }\n          this.isProcessing = false;\n        })\n        .catch(() => {\n          this.isProcessing = false;\n        });\n    },\n  },\n};\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout_payment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout_payment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Checkout_payment.vue?vue&type=template&id=c59e965c&\"\nimport script from \"./Checkout_payment.vue?vue&type=script&lang=js&\"\nexport * from \"./Checkout_payment.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}