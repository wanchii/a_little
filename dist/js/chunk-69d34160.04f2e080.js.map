{"version":3,"sources":["webpack:///./src/views/front/Cart.vue?328b","webpack:///src/views/front/Cart.vue","webpack:///./src/views/front/Cart.vue?0568","webpack:///./src/views/front/Cart.vue","webpack:///./src/assets/images/pexels-monicore-458796.jpg"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","carts","length","_v","_s","cartSubTotal","preventDefault","removeAllCart","_m","_l","item","key","product","id","removeCartItem","imageUrl","title","quantity","quantityUpdata","directives","name","rawName","value","expression","domProps","target","composing","$set","_f","price","unit","cartTotal","deliverFee","coupon_code","class","disabled","addCouponCode","_e","coupon","percent","discount","countTotal","staticRenderFns","data","isProcessing","components","created","getCart","computed","Math","ceil","methods","$http","get","url","then","delete","num","patch","component","module","exports"],"mappings":"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","file":"js/chunk-69d34160.04f2e080.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"cart py-md-7 py-5 mb-md-7 mb-5\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"container\"},[(_vm.carts.length > 0)?_c('div',{staticClass:\"row justify-content-center mt-3\"},[_c('div',{staticClass:\"col-md-10\"},[_c('h2',{staticClass:\"text-secondary mb-3\"},[_vm._v(\"購物車內容\")]),_c('div',{staticClass:\"d-flex align-items-end bg-light py-2 mb-2\"},[_c('h5',{staticClass:\"font-weight-bold text-primary\"},[_vm._v(\"目前有 \"+_vm._s(_vm.cartSubTotal)+\" 筆\")]),_c('a',{staticClass:\"btn btn-outline-danger rounded-0 ml-auto\",attrs:{\"href\":\"#\",\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.removeAllCart($event)}}},[_vm._v(\" 清空購物車 \")])]),_c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table cart-table\"},[_vm._m(0),_c('tbody',_vm._l((_vm.carts),function(item){return _c('tr',{key:item.product.id},[_c('td',{staticClass:\"align-middle text-center\"},[_c('button',{staticClass:\"btn text-danger btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.removeCartItem(item.product.id)}}},[_c('i',{staticClass:\"fas fa-times\"})])]),_c('td',{staticClass:\"align-middle\"},[_c('img',{staticClass:\"img-detail\",attrs:{\"src\":item.product.imageUrl[0],\"alt\":\"\"}})]),_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(item.product.title))]),_c('td',{staticClass:\"align-middle\"},[_c('div',{staticClass:\"btn-group cart-btn-group\",attrs:{\"role\":\"group\",\"aria-label\":\"...\"}},[_c('button',{staticClass:\"btn btn-outline-primary btn-sm\",attrs:{\"type\":\"button\",\"disabled\":item.quantity == 1},on:{\"click\":function($event){return _vm.quantityUpdata(item.product.id, item.quantity - 1)}}},[_c('i',{staticClass:\"fas fa-minus\"})]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.quantity),expression:\"item.quantity\"}],staticClass:\"text-center border-0\",attrs:{\"type\":\"text\",\"size\":\"1\",\"value\":\"1\"},domProps:{\"value\":(item.quantity)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"quantity\", $event.target.value)}}}),_c('button',{staticClass:\"btn btn-outline-primary btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.quantityUpdata(item.product.id, item.quantity + 1)}}},[_c('i',{staticClass:\"fas fa-plus\"})])])]),_c('td',{staticClass:\"text-right align-middle\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(item.product.price))+\"/\"+_vm._s(item.product.unit)+\" \")]),_c('td',{staticClass:\"text-right align-middle\"},[_vm._v(\" \"+_vm._s(item.product.price * item.quantity)+\" \")])])}),0),_c('tfoot',[_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"5\"}},[_vm._v(\"小計\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.cartTotal))])]),_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"5\"}},[_vm._v(\"運費\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.deliverFee))])]),_c('tr',[_c('td',{attrs:{\"colspan\":\"4\"}},[_c('div',{staticClass:\"input-group input-group-sm\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.coupon_code),expression:\"coupon_code\"}],staticClass:\"form-control rounded-0\",attrs:{\"type\":\"text\",\"placeholder\":\"請輸入優惠碼\"},domProps:{\"value\":(_vm.coupon_code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.coupon_code=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary rounded-0\",class:{disabled:_vm.coupon_code===''},attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addCouponCode($event)}}},[_vm._v(\" 套用優惠碼 \"),(_vm.isProcessing)?_c('i',{staticClass:\"fas fa-circle-notch fa-spin\"}):_vm._e()])])])]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"折扣\")]),(_vm.coupon.enabled)?_c('td',{staticClass:\"text-right text-danger\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(_vm.cartTotal * (_vm.coupon.percent / 100)))+\" \")]):_c('td',{staticClass:\"text-right text-danger\"},[_vm._v(\" 0 \")])]),_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"5\"}},[_vm._v(\"合計\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(_vm.cartTotal + _vm.deliverFee - _vm.discount))+\" \")])]),( _vm.countTotal < 490)?_c('tr',[_c('td',{staticClass:\"text-right text-danger\",attrs:{\"colspan\":\"6\"}},[_vm._v(\"未滿490無法出貨\")])]):_vm._e()])])]),_c('div',{staticClass:\"d-flex justify-content-end\"},[_c('router-link',{staticClass:\"btn btn-primary font-weight-bold rounded-0 px-6 py-2\",class:{disabled:_vm.countTotal < 490},attrs:{\"to\":\"/checkout\"}},[_vm._v(\" 結帳 \")])],1)])]):_c('div',[_c('div',{staticClass:\"row justify-content-center align-items-center my-3\"},[_vm._m(1),_c('div',{staticClass:\"col-lg-5 col-12\"},[_c('router-link',{staticClass:\"text-primary-dark d-flex align-items-center justify-content-center\",attrs:{\"to\":\"/products\"}},[_c('h4',{staticClass:\"font-weight-bold mb-0\"},[_vm._v(\"購物車沒有商品資料，趕快來去選購\")]),_c('i',{staticClass:\"fas fa-long-arrow-alt-left ml-2\"})])],1)])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th'),_c('th',[_vm._v(\"商品\")]),_c('th'),_c('th',[_vm._v(\"數量\")]),_c('th',[_vm._v(\"單價\")]),_c('th',[_vm._v(\"小計\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-lg-7 col-12\"},[_c('img',{attrs:{\"src\":require(\"../../assets/images/pexels-monicore-458796.jpg\"),\"alt\":\"\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n<section class=\"cart py-md-7 py-5 mb-md-7 mb-5\">\n  <loading :active.sync=\"isLoading\"></loading>\n  <div class=\"container\">\n      <div class=\"row justify-content-center mt-3\"\n        v-if=\"carts.length > 0\">\n          <div class=\"col-md-10\">\n              <h2 class=\"text-secondary mb-3\">購物車內容</h2>\n              <div class=\"d-flex align-items-end bg-light py-2 mb-2\" >\n                  <h5 class=\"font-weight-bold text-primary\">目前有 {{ cartSubTotal }} 筆</h5>\n                  <a href=\"#\" class=\"btn btn-outline-danger rounded-0 ml-auto\" type=\"button\"\n                    @click.prevent=\"removeAllCart\">\n                      清空購物車\n                  </a>\n              </div>\n              <div class=\"table-responsive\">\n                  <table class=\"table cart-table\">\n                      <thead>\n                          <tr>\n                              <th ></th>\n                              <th >商品</th>\n                              <th ></th>\n                              <th >數量</th>\n                              <th >單價</th>\n                              <th >小計</th>\n                          </tr>\n                      </thead>\n                      <tbody>\n                          <tr v-for=\"item in carts\" :key=\"item.product.id\">\n                              <td class=\"align-middle text-center\">\n                                  <button type=\"button\" class=\"btn text-danger btn-sm\"\n                                      @click=\"removeCartItem(item.product.id)\">\n                                      <i class=\"fas fa-times\"></i>\n                                  </button>\n                              </td>\n                              <td class=\"align-middle\">\n                                  <img :src=\"item.product.imageUrl[0]\"\n                                      alt=\"\" class=\"img-detail\"></td>\n                              <td class=\"align-middle\">{{ item.product.title }}</td>\n                              <td class=\"align-middle\">\n                                <div class=\"btn-group cart-btn-group\" role=\"group\" aria-label=\"...\">\n                                  <button type=\"button\" class=\"btn btn-outline-primary btn-sm\"\n                                    @click=\"quantityUpdata(item.product.id, item.quantity - 1)\"\n                                    :disabled=\"item.quantity == 1\">\n                                    <i class=\"fas fa-minus\"></i>\n                                  </button>\n                                  <input type=\"text\" size=\"1\" value=\"1\" class=\"text-center border-0\"\n                                    v-model=\"item.quantity\">\n                                  <button type=\"button\" class=\"btn btn-outline-primary btn-sm\"\n                                    @click=\"quantityUpdata(item.product.id, item.quantity + 1)\">\n                                    <i class=\"fas fa-plus\"></i>\n                                  </button>\n                                </div>\n                              </td>\n                              <td class=\"text-right align-middle\">\n                                  {{ item.product.price | currency }}/{{ item.product.unit }}\n                              </td>\n                              <td class=\"text-right align-middle\">\n                                  {{ item.product.price * item.quantity }}\n                              </td>\n                          </tr>\n                      </tbody>\n                      <tfoot>\n                        <tr>\n                            <td colspan=\"5\" class=\"text-right\">小計</td>\n                            <td class=\"text-right\">{{ cartTotal}}</td>\n                        </tr>\n                        <tr>\n                            <td colspan=\"5\" class=\"text-right\">運費</td>\n                            <td class=\"text-right\">{{ deliverFee }}</td>\n                        </tr>\n                        <tr>\n                          <td colspan=\"4\">\n                            <div class=\"input-group input-group-sm\">\n                              <input type=\"text\"\n                                placeholder=\"請輸入優惠碼\" class=\"form-control rounded-0\"\n                                v-model=\"coupon_code\">\n                                <div class=\"input-group-append\">\n                                  <button type=\"button\"\n                                    class=\"btn btn-outline-secondary rounded-0\"\n                                    :class=\"{disabled:coupon_code===''}\"\n                                    @click.prevent=\"addCouponCode\">\n                                    套用優惠碼\n                                    <i v-if=\"isProcessing\"\n                                    class=\"fas fa-circle-notch fa-spin\"></i>\n                                  </button>\n                                </div>\n                            </div>\n                          </td>\n                          <td class=\"text-right\">折扣</td>\n                          <td class=\"text-right text-danger\"\n                          v-if=\"coupon.enabled\">\n                            {{ cartTotal * (coupon.percent / 100) | currency}}\n                          </td>\n                          <td class=\"text-right text-danger\"\n                          v-else>\n                            0\n                          </td>\n                        </tr>\n                        <tr>\n                            <td colspan=\"5\" class=\"text-right\">合計</td>\n                            <td class=\"text-right\">\n                              {{ cartTotal + deliverFee - discount | currency }}\n                            </td>\n                        </tr>\n                        <tr v-if=\" countTotal < 490\" >\n                            <td colspan=\"6\" class=\"text-right text-danger\">未滿490無法出貨</td>\n                        </tr>\n                    </tfoot>\n                </table>\n              </div>\n              <div class=\"d-flex justify-content-end\">\n                <router-link class=\"btn btn-primary font-weight-bold rounded-0 px-6 py-2\"\n                  to=\"/checkout\"  :class=\"{disabled:countTotal < 490}\">\n                  結帳\n                </router-link>\n              </div>\n          </div>\n      </div>\n      <div v-else>\n        <div class=\"row justify-content-center align-items-center my-3\">\n          <div class=\"col-lg-7 col-12\">\n            <img src=\"../../assets/images/pexels-monicore-458796.jpg\" alt=\"\">\n          </div>\n          <div class=\"col-lg-5 col-12\">\n            <router-link to=\"/products\"\n              class=\"text-primary-dark d-flex align-items-center justify-content-center\">\n              <h4 class=\"font-weight-bold mb-0\">購物車沒有商品資料，趕快來去選購</h4>\n              <i class=\"fas fa-long-arrow-alt-left ml-2\"></i>\n            </router-link>\n          </div>\n        </div>\n      </div>\n\n  </div>\n</section>\n\n</template>\n\n<script>\n\n/**\n * @typedef {{}} NewType\n */\n\nexport default {\n  data() {\n    return {\n      carts: [],\n      cartTotal: 0,\n      cartSubTotal: 0,\n      deliverFee: 80,\n      coupon_code: '',\n      coupon: {},\n      discount: 0,\n      isLoading: false,\n      isProcessing: false,\n    };\n  },\n  components: {\n\n  },\n  created() {\n    this.getCart();\n  },\n  computed: {\n    countTotal() {\n      return Math.ceil(this.cartTotal + this.deliverFee - this.discount);\n    },\n\n  },\n  methods: {\n    getCart() {\n      // GET api/{uuid}/ec/shopping\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/ec/shopping`;\n      this.$http.get(url).then((res) => {\n        this.isLoading = false;\n        this.carts = res.data.data;\n        this.cartSubTotal = res.data.data.length;\n        this.$bus.$emit('update-total');\n        this.cartTotal = 0;\n        this.carts.forEach((item) => {\n          this.cartTotal += item.product.price * item.quantity;\n        });\n      });\n    },\n    removeAllCart() {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/ec/shopping/all/product`;\n      this.$http.delete(url)\n        .then(() => {\n          this.isLoading = false;\n          this.getCart();\n        });\n    },\n    removeCartItem(id) {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/ec/shopping/${id}`;\n      this.$http.delete(url).then(() => {\n        this.isLoading = false;\n        this.getCart();\n      });\n    },\n    quantityUpdata(id, num) {\n      if (num <= 0) return;\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/ec/shopping`;\n      const data = {\n        product: id,\n        quantity: num,\n      };\n      this.$http.patch(url, data).then(() => {\n        this.isLoading = false;\n        this.getCart();\n      });\n    },\n    addCouponCode() {\n      const url = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/ec/coupon/search`;\n      this.isProcessing = true;\n      this.$http\n        .post(url, { code: this.coupon_code })\n        .then((res) => {\n          this.getCart();\n          this.coupon = res.data.data;\n          this.discount = this.cartTotal * (this.coupon.percent / 100);\n          this.isProcessing = false;\n        });\n    },\n  },\n\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cart.vue?vue&type=template&id=52307f40&\"\nimport script from \"./Cart.vue?vue&type=script&lang=js&\"\nexport * from \"./Cart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/pexels-monicore-458796.e23b3367.jpg\";"],"sourceRoot":""}