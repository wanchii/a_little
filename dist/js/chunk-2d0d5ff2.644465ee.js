(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d5ff2"],{7157:function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"py-3"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-7 col-md-12 col-12 mb-md-3"},[a("div",{staticClass:"py-1 d-flex justify-content-between"},[a("router-link",{staticClass:"btn text-primary text-left",attrs:{to:"/cart"}},[a("i",{staticClass:"fas fa-long-arrow-alt-left"}),t._v(" 回到購物車 ")]),a("router-link",{staticClass:"passeroOne h4 text-primary font-weight-bold",attrs:{to:"/"}},[t._v(" a little ")])],1),a("div",{staticClass:"check border mt-1 p-3"},[t._m(0),a("div",{staticClass:"mb-4"},[a("div",{staticClass:"d-flex align-items-center bg-light p-2 mb-2"},[a("h6",{staticClass:"font-weight-bold text-muted mb-0"},[t._v("訂購姓名:")]),a("p",{staticClass:"mb-0 ml-2 text-primary-light"},[t._v(t._s(t.order.user.name))])]),a("div",{staticClass:"d-flex align-items-center bg-light p-2 mb-2"},[a("h6",{staticClass:"font-weight-bold text-muted mb-0"},[t._v("電子郵件:")]),a("p",{staticClass:"mb-0 ml-2 text-primary-light"},[t._v(t._s(t.order.user.email))])]),a("div",{staticClass:"d-flex align-items-center bg-light p-2 mb-2"},[a("h6",{staticClass:"font-weight-bold text-muted mb-0"},[t._v("地址:")]),a("p",{staticClass:"mb-0 ml-2 text-primary-light"},[t._v(t._s(t.order.user.address))])])]),a("h4",[t._v("付款確認")]),a("div",{staticClass:"p-2 bg-light d-flex justify-content-between mb-4"},[a("h6",{staticClass:"font-weight-bold text-muted mb-0"},[t._v("付款方式")]),a("p",{staticClass:"mb-0 text-primary-light "},[t._v(t._s(t.order.payment))])]),a("div",{staticClass:"d-flex justify-content-end"},[a("button",{staticClass:"btn btn-danger",attrs:{disabled:t.isProcessing},on:{click:function(s){return s.preventDefault(),t.payNow(s)}}},[t._v(" 確認付款 "),t.isProcessing?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()])])])]),a("div",{staticClass:"col-lg-5 col-md-12 col-12"},[a("div",{staticClass:"bg-base py-6 px-3  sticky-top",staticStyle:{"min-height":"100vh"}},[a("h3",{staticClass:"px-5"},[t._v("訂單明細")]),a("div",{staticClass:"order p-5"},[a("table",{staticClass:"table order-table"},[a("thead",t._l(t.order_products,(function(s){return a("tr",{key:s.product.id+1},[a("td",[a("img",{staticClass:"table-img",attrs:{src:s.product.imageUrl[0],alt:""}})]),a("td",{staticClass:"font-weight-bold text-vcraftsman-dark"},[t._v(" "+t._s(s.product.title)+" "+t._s(s.quantity)+" ")]),a("td",{staticClass:"text-right"},[t._v(" "+t._s(t._f("currency")(s.product.price*s.quantity))+" ")])])})),0),a("tbody",[a("tr",[a("td",{attrs:{colspan:"2"}},[t._v("小計")]),a("td",{staticClass:"text-right"},[t._v("NT"+t._s(t.subTotal))])]),a("tr",[t.order.coupon?a("td",{attrs:{colspan:"2"}},[t._v(t._s(t.order.coupon))]):a("td",{staticClass:"text-muted",attrs:{colspan:"2"}},[t._v(" 沒有使用優惠券")]),a("td",{staticClass:"text-right text-danger"},[t._v(t._s(t.discount)+" ")])])]),a("tfoot",[a("tr",[a("td",{staticClass:"font-weight-bold ",attrs:{colspan:"2"}},[t._v("總共")]),a("td",{staticClass:"text-right font-weight-bold "},[t._v("NT"+t._s(t.order.amount))])])])])])])])])])])},e=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb  mb-4"},[a("li",{staticClass:"breadcrumb-item"},[t._v(" 購物車 ")]),a("li",{staticClass:"breadcrumb-item"},[t._v(" 訂購資訊 ")]),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("付款")])])])}],r=(a("99af"),a("4160"),a("159b"),{data:function(){return{order:{user:{}},orderId:"",order_products:[],subTotal:0,discount:0,isLoading:!1,isProcessing:!1}},created:function(){this.orderId=this.$route.params,this.getOrder()},methods:{getOrder:function(){var t=this,s="".concat("https://course-ec-api.hexschool.io/api/").concat("326aaf6a-8ca5-4a46-b815-11a755b4a30c","/ec/orders/").concat(this.orderId.id);this.isLoading=!0,this.$http.get(s).then((function(s){t.order=s.data.data,t.order_products=t.order.products,t.order_products.forEach((function(s){t.subTotal+=s.product.price*s.quantity})),t.isLoading=!1})).catch((function(){t.isLoading=!1}))},payNow:function(){var t=this,s="".concat("https://course-ec-api.hexschool.io/api/").concat("326aaf6a-8ca5-4a46-b815-11a755b4a30c","/ec/orders/").concat(this.orderId.id,"/paying");this.isProcessing=!0,this.$http.post(s).then((function(s){s.data.data.paid&&t.$router.push("/welldone"),t.isProcessing=!1})).catch((function(){t.isProcessing=!1}))}}}),c=r,o=a("2877"),l=Object(o["a"])(c,i,e,!1,null,null,null);s["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d0d5ff2.644465ee.js.map