{"version":3,"sources":["webpack:///./src/views/front/Checkout_order.vue?f866","webpack:///src/views/front/Checkout_order.vue","webpack:///./src/views/front/Checkout_order.vue?7e5d","webpack:///./src/views/front/Checkout_order.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","scopedSlots","_u","key","fn","ref","invalid","on","$event","preventDefault","createOrder","errors","classes","directives","name","rawName","value","order_detail","expression","class","domProps","target","composing","$set","_s","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","multiple","staticStyle","_l","item","product","id","imageUrl","title","quantity","_f","price","cartTotal","coupon_code","disabled","addCouponCode","_e","coupon","discount","countTotal","staticRenderFns","data","carts","cartSubTotal","email","tel","address","payment","message","isLoading","isProcessing","created","getCart","computed","Math","ceil","methods","$http","get","url","then","post","console","log","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,MAAM,CAACE,YAAY,uCAAuC,CAACF,EAAG,cAAc,CAACE,YAAY,6BAA6BC,MAAM,CAAC,GAAK,UAAU,CAACH,EAAG,IAAI,CAACE,YAAY,+BAA+BN,EAAIQ,GAAG,aAAaJ,EAAG,cAAc,CAACE,YAAY,8CAA8CC,MAAM,CAAC,GAAK,MAAM,CAACP,EAAIQ,GAAG,iBAAiB,GAAGJ,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACG,MAAM,CAAC,aAAa,eAAe,CAACH,EAAG,KAAK,CAACE,YAAY,oBAAoB,CAACF,EAAG,KAAK,CAACE,YAAY,mBAAmB,CAACF,EAAG,cAAc,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,UAAU,CAACP,EAAIQ,GAAG,YAAY,GAAGJ,EAAG,KAAK,CAACE,YAAY,yBAAyBC,MAAM,CAAC,eAAe,SAAS,CAACP,EAAIQ,GAAG,UAAUJ,EAAG,KAAK,CAACE,YAAY,wBAAwB,CAACN,EAAIQ,GAAG,YAAYJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,UAAUJ,EAAG,sBAAsB,CAACK,YAAYT,EAAIU,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAC5lC,IAAIC,EAAUD,EAAIC,QAClB,MAAO,CAACV,EAAG,OAAO,CAACW,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBjB,EAAIkB,YAAYF,MAAW,CAACZ,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,sBAAsB,CAACG,MAAM,CAAC,MAAQ,WAAW,IAAM,OAAOE,YAAYT,EAAIU,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAC7S,IAAIM,EAASN,EAAIM,OACbC,EAAUP,EAAIO,QAClB,MAAO,CAAChB,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,cAAc,CAACP,EAAIQ,GAAG,QAAQJ,EAAG,QAAQ,CAACiB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOxB,EAAIyB,aAAiB,KAAEC,WAAW,sBAAsBpB,YAAY,eAAeqB,MAAMP,EAAQb,MAAM,CAAC,KAAO,OAAO,GAAK,YAAY,KAAO,KAAK,YAAc,MAAMqB,SAAS,CAAC,MAAS5B,EAAIyB,aAAiB,MAAGV,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOa,OAAOC,WAAqB9B,EAAI+B,KAAK/B,EAAIyB,aAAc,OAAQT,EAAOa,OAAOL,WAAWpB,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACN,EAAIQ,GAAGR,EAAIgC,GAAGb,EAAO,WAAW,MAAK,MAAS,GAAGf,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,sBAAsB,CAACG,MAAM,CAAC,MAAQ,yBAAyB,IAAM,OAAOE,YAAYT,EAAIU,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GACxtB,IAAIM,EAASN,EAAIM,OACbC,EAAUP,EAAIO,QAClB,MAAO,CAAChB,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,aAAa,CAACP,EAAIQ,GAAG,QAAQJ,EAAG,QAAQ,CAACiB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOxB,EAAIyB,aAAgB,IAAEC,WAAW,qBAAqBpB,YAAY,eAAeqB,MAAMP,EAAQb,MAAM,CAAC,KAAO,MAAM,GAAK,WAAW,KAAO,MAAMqB,SAAS,CAAC,MAAS5B,EAAIyB,aAAgB,KAAGV,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOa,OAAOC,WAAqB9B,EAAI+B,KAAK/B,EAAIyB,aAAc,MAAOT,EAAOa,OAAOL,WAAWpB,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACN,EAAIQ,GAAGR,EAAIgC,GAAGb,EAAO,WAAW,MAAK,MAAS,KAAKf,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,sBAAsB,CAACG,MAAM,CAAC,MAAQ,iBAAiB,IAAM,OAAOE,YAAYT,EAAIU,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAC/qB,IAAIM,EAASN,EAAIM,OACbC,EAAUP,EAAIO,QAClB,MAAO,CAAChB,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,eAAe,CAACP,EAAIQ,GAAG,UAAUJ,EAAG,QAAQ,CAACiB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOxB,EAAIyB,aAAkB,MAAEC,WAAW,uBAAuBpB,YAAY,eAAeqB,MAAMP,EAAQb,MAAM,CAAC,KAAO,OAAO,GAAK,aAAa,YAAc,cAAc,KAAO,QAAQqB,SAAS,CAAC,MAAS5B,EAAIyB,aAAkB,OAAGV,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOa,OAAOC,WAAqB9B,EAAI+B,KAAK/B,EAAIyB,aAAc,QAAST,EAAOa,OAAOL,WAAWpB,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACN,EAAIQ,GAAGR,EAAIgC,GAAGb,EAAO,WAAW,MAAK,MAAS,GAAGf,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,sBAAsB,CAACG,MAAM,CAAC,MAAQ,WAAW,IAAM,OAAOE,YAAYT,EAAIU,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GACptB,IAAIM,EAASN,EAAIM,OACbC,EAAUP,EAAIO,QAClB,MAAO,CAAChB,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,iBAAiB,CAACP,EAAIQ,GAAG,QAAQJ,EAAG,QAAQ,CAACiB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOxB,EAAIyB,aAAoB,QAAEC,WAAW,yBAAyBpB,YAAY,eAAeqB,MAAMP,EAAQb,MAAM,CAAC,KAAO,OAAO,GAAK,eAAe,YAAc,KAAK,KAAO,MAAMqB,SAAS,CAAC,MAAS5B,EAAIyB,aAAoB,SAAGV,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOa,OAAOC,WAAqB9B,EAAI+B,KAAK/B,EAAIyB,aAAc,UAAWT,EAAOa,OAAOL,WAAWpB,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACN,EAAIQ,GAAGR,EAAIgC,GAAGb,EAAO,WAAW,MAAK,MAAS,GAAGf,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,sBAAsB,CAACG,MAAM,CAAC,MAAQ,WAAW,IAAM,OAAOE,YAAYT,EAAIU,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GACntB,IAAIM,EAASN,EAAIM,OACbC,EAAUP,EAAIO,QAClB,MAAO,CAAChB,EAAG,QAAQ,CAACE,YAAY,mBAAmBC,MAAM,CAAC,IAAM,kBAAkB,CAACP,EAAIQ,GAAG,UAAUJ,EAAG,SAAS,CAACiB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOxB,EAAIyB,aAAoB,QAAEC,WAAW,yBAAyBpB,YAAY,6BAA6BqB,MAAMP,EAAQb,MAAM,CAAC,GAAK,gBAAgB,KAAO,QAAQQ,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIiB,EAAgBC,MAAMC,UAAUC,OAAOC,KAAKrB,EAAOa,OAAOS,SAAQ,SAASC,GAAG,OAAOA,EAAEC,YAAWC,KAAI,SAASF,GAAG,IAAIG,EAAM,WAAYH,EAAIA,EAAEI,OAASJ,EAAEf,MAAM,OAAOkB,KAAO1C,EAAI+B,KAAK/B,EAAIyB,aAAc,UAAWT,EAAOa,OAAOe,SAAWX,EAAgBA,EAAc,OAAO,CAAC7B,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,GAAG,SAAW,GAAG,SAAW,GAAG,OAAS,KAAK,CAACP,EAAIQ,GAAG,aAAaJ,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,WAAW,CAACP,EAAIQ,GAAG,YAAYJ,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,QAAQ,CAACP,EAAIQ,GAAG,SAASJ,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,YAAY,CAACP,EAAIQ,GAAG,aAAaJ,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,WAAW,CAACP,EAAIQ,GAAG,YAAYJ,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,aAAa,CAACP,EAAIQ,GAAG,cAAcJ,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,cAAc,CAACP,EAAIQ,GAAG,iBAAiBJ,EAAG,OAAO,CAACE,YAAY,oBAAoB,CAACN,EAAIQ,GAAGR,EAAIgC,GAAGb,EAAO,WAAW,MAAK,MAAS,GAAGf,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACE,YAAY,mBAAmBC,MAAM,CAAC,IAAM,gBAAgB,CAACP,EAAIQ,GAAG,QAAQJ,EAAG,WAAW,CAACiB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOxB,EAAIyB,aAAoB,QAAEC,WAAW,yBAAyBpB,YAAY,eAAeC,MAAM,CAAC,GAAK,cAAc,KAAO,KAAKqB,SAAS,CAAC,MAAS5B,EAAIyB,aAAoB,SAAGV,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOa,OAAOC,WAAqB9B,EAAI+B,KAAK/B,EAAIyB,aAAc,UAAWT,EAAOa,OAAOL,aAAapB,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACF,EAAG,SAAS,CAACE,YAAY,2BAA2BC,MAAM,CAAC,KAAO,SAAS,SAAWO,IAAU,CAACd,EAAIQ,GAAG,wBAAwB,KAAKJ,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,MAAM,CAACE,YAAY,gCAAgCuC,YAAY,CAAC,aAAa,UAAU,CAACzC,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAG,UAAUJ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACE,YAAY,qBAAqB,CAACF,EAAG,QAAQJ,EAAI8C,GAAI9C,EAAS,OAAE,SAAS+C,GAAM,OAAO3C,EAAG,KAAK,CAACO,IAAIoC,EAAKC,QAAQC,GAAK,GAAG,CAAC7C,EAAG,KAAK,CAACA,EAAG,MAAM,CAACE,YAAY,YAAYC,MAAM,CAAC,IAAMwC,EAAKC,QAAQE,SAAS,GAAG,IAAM,QAAQ9C,EAAG,KAAK,CAACE,YAAY,yCAAyC,CAACN,EAAIQ,GAAG,IAAIR,EAAIgC,GAAGe,EAAKC,QAAQG,OAAO,IAAInD,EAAIgC,GAAGe,EAAKK,UAAU,OAAOhD,EAAG,KAAK,CAACE,YAAY,cAAc,CAACN,EAAIQ,GAAG,IAAIR,EAAIgC,GAAGhC,EAAIqD,GAAG,WAAPrD,CAAmB+C,EAAKC,QAAQM,MAAQP,EAAKK,WAAW,YAAW,GAAGhD,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACG,MAAM,CAAC,QAAU,MAAM,CAACP,EAAIQ,GAAG,QAAQJ,EAAG,KAAK,CAACE,YAAY,cAAc,CAACN,EAAIQ,GAAG,KAAKR,EAAIgC,GAAGhC,EAAIqD,GAAG,WAAPrD,CAAmBA,EAAIuD,iBAAiBnD,EAAG,KAAK,CAACA,EAAG,KAAK,CAACG,MAAM,CAAC,QAAU,MAAM,CAACH,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACF,EAAG,QAAQ,CAACiB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOxB,EAAe,YAAE0B,WAAW,gBAAgBpB,YAAY,yBAAyBC,MAAM,CAAC,KAAO,OAAO,YAAc,UAAUqB,SAAS,CAAC,MAAS5B,EAAe,aAAGe,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOa,OAAOC,YAAqB9B,EAAIwD,YAAYxC,EAAOa,OAAOL,WAAUpB,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,SAAS,CAACE,YAAY,sCAAsCqB,MAAM,CAAC8B,SAA4B,KAAnBzD,EAAIwD,aAAmBjD,MAAM,CAAC,KAAO,UAAUQ,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBjB,EAAI0D,cAAc1C,MAAW,CAAChB,EAAIQ,GAAG,WAAYR,EAAgB,aAAEI,EAAG,IAAI,CAACE,YAAY,gCAAgCN,EAAI2D,aAAc3D,EAAI4D,OAAc,QAAExD,EAAG,KAAK,CAACE,YAAY,0BAA0B,CAACN,EAAIQ,GAAG,IAAIR,EAAIgC,GAAGhC,EAAIqD,GAAG,WAAPrD,CAAmBA,EAAI6D,WAAW,OAAOzD,EAAG,KAAK,CAACE,YAAY,0BAA0B,CAACN,EAAIQ,GAAG,aAAaJ,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,oBAAoBC,MAAM,CAAC,QAAU,MAAM,CAACP,EAAIQ,GAAG,QAAQJ,EAAG,KAAK,CAACE,YAAY,gCAAgC,CAACN,EAAIQ,GAAG,KAAKR,EAAIgC,GAAGhC,EAAIqD,GAAG,WAAPrD,CAAmBA,EAAI8D,mCACn1HC,EAAkB,GCmKtB,G,8BAAA,CACEC,KADF,WAEI,MAAO,CACLC,MAAO,GACPV,UAAW,EACXW,aAAc,EACdV,YAAa,GACbI,OAAQ,GACRC,SAAU,EACVpC,aAAc,CACZ0C,MAAO,GACP7C,KAAM,GACN8C,IAAK,GACLC,QAAS,GACTT,OAAQ,GACRU,QAAS,GACTC,QAAS,IAEXC,WAAW,EACXC,cAAc,IAGlBC,QAtBF,WAuBIzE,KAAK0E,WAEPC,SAAU,CACRd,WADJ,WAEM,OAAOe,KAAKC,KAAK7E,KAAKsD,UAAYtD,KAAK4D,YAG3CkB,QAAS,CACPJ,QADJ,WACA,WAEM1E,KAAKuE,WAAY,EACjB,IAAN,qHACMvE,KAAK+E,MAAMC,IAAIC,GAAKC,MAAK,SAA/B,GACQ,EAAR,aACQ,EAAR,kBACQ,EAAR,YACQ,EAAR,2BACU,EAAV,6CAIIzB,cAdJ,WAcA,WACA,0HACMzD,KAAKwE,cAAe,EACpBxE,KAAK4D,SAAW,EAChB5D,KAAK+E,MACX,QAAQ,KAAR,mBACA,kBACQ,EAAR,UACQ,EAAR,mBACQ,IAAR,gDACQ,EAAR,uBACQ,EAAR,uCACQ,EAAR,oBAGI9D,YA7BJ,WA6BA,WAGA,mHAEMjB,KAAK+E,MAAMI,KAAKF,EAAKjF,KAAKwB,cAChC,kBACA,iBAEU,QAAV,eACU,EAAV,8DAGA,kBAEQ,QAAR,gBAIM4D,QAAQC,IAAI,aCnQqV,I,YCOnWC,EAAY,eACd,EACAxF,EACAgE,GACA,EACA,KACA,KACA,MAIa,aAAAwB,E","file":"js/chunk-2d0ac58a.2ac44286.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"py-3\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-7 col-md-12 col-12 mb-md-3\"},[_c('div',{staticClass:\"py-1 d-flex justify-content-between\"},[_c('router-link',{staticClass:\"btn text-primary text-left\",attrs:{\"to\":\"/cart\"}},[_c('i',{staticClass:\"fas fa-long-arrow-alt-left\"}),_vm._v(\" 回到購物車 \")]),_c('router-link',{staticClass:\"passeroOne h4 text-primary font-weight-bold\",attrs:{\"to\":\"/\"}},[_vm._v(\" a little \")])],1),_c('div',{staticClass:\"check border mt-1 p-3\"},[_c('nav',{attrs:{\"aria-label\":\"breadcrumb\"}},[_c('ol',{staticClass:\"breadcrumb  mb-4\"},[_c('li',{staticClass:\"breadcrumb-item\"},[_c('router-link',{staticClass:\"text-primary\",attrs:{\"to\":\"/cart\"}},[_vm._v(\" 購物車 \")])],1),_c('li',{staticClass:\"breadcrumb-item active\",attrs:{\"aria-current\":\"page\"}},[_vm._v(\"訂購資訊\")]),_c('li',{staticClass:\"breadcrumb-item next\"},[_vm._v(\"付款\")])])]),_c('h4',[_vm._v(\"訂購資訊\")]),_c('validation-observer',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar invalid = ref.invalid;\nreturn [_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createOrder($event)}}},[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"form-group col-md-6\"},[_c('validation-provider',{attrs:{\"rules\":\"required\",\"tag\":\"div\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{attrs:{\"for\":\"inputName\"}},[_vm._v(\"姓名\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.order_detail.name),expression:\"order_detail.name\"}],staticClass:\"form-control\",class:classes,attrs:{\"type\":\"text\",\"id\":\"inputName\",\"name\":\"姓名\",\"placeholder\":\"路晉\"},domProps:{\"value\":(_vm.order_detail.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.order_detail, \"name\", $event.target.value)}}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1),_c('div',{staticClass:\"form-group col-md-6\"},[_c('validation-provider',{attrs:{\"rules\":\"required|min:8|numeric\",\"tag\":\"div\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{attrs:{\"for\":\"inputTel\"}},[_vm._v(\"電話\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.order_detail.tel),expression:\"order_detail.tel\"}],staticClass:\"form-control\",class:classes,attrs:{\"type\":\"tel\",\"id\":\"inputTel\",\"name\":\"電話\"},domProps:{\"value\":(_vm.order_detail.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.order_detail, \"tel\", $event.target.value)}}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1)]),_c('div',{staticClass:\"form-group\"},[_c('validation-provider',{attrs:{\"rules\":\"required|email\",\"tag\":\"div\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{attrs:{\"for\":\"inputEmail\"}},[_vm._v(\"電子郵件\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.order_detail.email),expression:\"order_detail.email\"}],staticClass:\"form-control\",class:classes,attrs:{\"type\":\"text\",\"id\":\"inputEmail\",\"placeholder\":\"123@123.com\",\"name\":\"電子郵件\"},domProps:{\"value\":(_vm.order_detail.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.order_detail, \"email\", $event.target.value)}}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1),_c('div',{staticClass:\"form-group\"},[_c('validation-provider',{attrs:{\"rules\":\"required\",\"tag\":\"div\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{attrs:{\"for\":\"inputAddress\"}},[_vm._v(\"地址\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.order_detail.address),expression:\"order_detail.address\"}],staticClass:\"form-control\",class:classes,attrs:{\"type\":\"text\",\"id\":\"inputAddress\",\"placeholder\":\"地址\",\"name\":\"地址\"},domProps:{\"value\":(_vm.order_detail.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.order_detail, \"address\", $event.target.value)}}}),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1),_c('div',{staticClass:\"form-group\"},[_c('validation-provider',{attrs:{\"rules\":\"required\",\"tag\":\"div\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('label',{staticClass:\"font-weight-bold\",attrs:{\"for\":\"paymentSelect\"}},[_vm._v(\"購買方式\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.order_detail.payment),expression:\"order_detail.payment\"}],staticClass:\"select-arrow form-control \",class:classes,attrs:{\"id\":\"paymentSelect\",\"name\":\"付款方式\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.order_detail, \"payment\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\",\"selected\":\"\",\"disabled\":\"\",\"hidden\":\"\"}},[_vm._v(\"請選擇付款方式\")]),_c('option',{attrs:{\"value\":\"WebATM\"}},[_vm._v(\"WebATM\")]),_c('option',{attrs:{\"value\":\"ATM\"}},[_vm._v(\"ATM\")]),_c('option',{attrs:{\"value\":\"Barcode\"}},[_vm._v(\"Barcode\")]),_c('option',{attrs:{\"value\":\"Credit\"}},[_vm._v(\"Credit\")]),_c('option',{attrs:{\"value\":\"ApplePay\"}},[_vm._v(\"ApplePay\")]),_c('option',{attrs:{\"value\":\"GooglePay\"}},[_vm._v(\"GooglePay\")])]),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"font-weight-bold\",attrs:{\"for\":\"formMessage\"}},[_vm._v(\"留言\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.order_detail.message),expression:\"order_detail.message\"}],staticClass:\"form-control\",attrs:{\"id\":\"formMessage\",\"rows\":\"3\"},domProps:{\"value\":(_vm.order_detail.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.order_detail, \"message\", $event.target.value)}}})]),_c('div',{staticClass:\"d-flex justify-content-end\"},[_c('button',{staticClass:\"btn btn-primary p-3 w-50\",attrs:{\"type\":\"submit\",\"disabled\":invalid}},[_vm._v(\" 送出表單 \")])])])]}}])})],1)]),_c('div',{staticClass:\"col-lg-5 col-md-12 col-12\"},[_c('div',{staticClass:\"bg-base py-6 px-3  sticky-top\",staticStyle:{\"min-height\":\"100vh\"}},[_c('h3',{staticClass:\"px-5\"},[_vm._v(\"訂單明細\")]),_c('div',{staticClass:\"order p-5\"},[_c('table',{staticClass:\"table order-table\"},[_c('thead',_vm._l((_vm.carts),function(item){return _c('tr',{key:item.product.id + 1},[_c('td',[_c('img',{staticClass:\"table-img\",attrs:{\"src\":item.product.imageUrl[0],\"alt\":\"\"}})]),_c('td',{staticClass:\"font-weight-bold text-vcraftsman-dark\"},[_vm._v(\" \"+_vm._s(item.product.title)+\" \"+_vm._s(item.quantity)+\" \")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(item.product.price * item.quantity))+\" \")])])}),0),_c('tbody',[_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_vm._v(\"小計\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\"NT\"+_vm._s(_vm._f(\"currency\")(_vm.cartTotal)))])]),_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_c('div',{staticClass:\"input-group input-group-sm\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.coupon_code),expression:\"coupon_code\"}],staticClass:\"form-control rounded-0\",attrs:{\"type\":\"text\",\"placeholder\":\"請輸入優惠碼\"},domProps:{\"value\":(_vm.coupon_code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.coupon_code=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary rounded-0\",class:{disabled:_vm.coupon_code ===''},attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addCouponCode($event)}}},[_vm._v(\" 套用優惠碼 \"),(_vm.isProcessing)?_c('i',{staticClass:\"fas fa-circle-notch fa-spin\"}):_vm._e()])])])]),(_vm.coupon.enabled)?_c('td',{staticClass:\"text-right text-danger\"},[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(_vm.discount))+\" \")]):_c('td',{staticClass:\"text-right text-danger\"},[_vm._v(\" 0 \")])])]),_c('tfoot',[_c('tr',[_c('td',{staticClass:\"font-weight-bold \",attrs:{\"colspan\":\"2\"}},[_vm._v(\"總共\")]),_c('td',{staticClass:\"text-right font-weight-bold \"},[_vm._v(\"NT\"+_vm._s(_vm._f(\"currency\")(_vm.countTotal)))])])])])])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"py-3\">\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-lg-7 col-md-12 col-12 mb-md-3\">\n          <div class=\"py-1 d-flex justify-content-between\">\n              <router-link class=\"btn text-primary text-left\"\n                to=\"/cart\">\n                <i class=\"fas fa-long-arrow-alt-left\"></i> 回到購物車\n              </router-link>\n              <router-link class=\"passeroOne h4 text-primary font-weight-bold\"\n                  to=\"/\">\n                  a little\n                </router-link>\n          </div>\n          <div class=\"check border mt-1 p-3\">\n              <nav aria-label=\"breadcrumb\">\n      <ol class=\"breadcrumb  mb-4\">\n        <li class=\"breadcrumb-item\">\n          <router-link class=\"text-primary\"\n            to=\"/cart\">\n            購物車\n          </router-link>\n        </li>\n        <li class=\"breadcrumb-item active\" aria-current=\"page\">訂購資訊</li>\n        <li class=\"breadcrumb-item next\">付款</li>\n      </ol>\n      </nav>\n    <h4>訂購資訊</h4>\n    <!-- validation-observer 驗證整體表單 -->\n    <validation-observer v-slot=\"{ invalid }\">\n      <form @submit.prevent=\"createOrder\">\n        <div class=\"form-row\">\n          <div class=\"form-group col-md-6\">\n            <validation-provider rules=\"required\" tag=\"div\"\n              v-slot=\"{ errors, classes }\">\n              <label for=\"inputName\">姓名</label>\n              <input type=\"text\" class=\"form-control\" id=\"inputName\" :class=\"classes\"\n              name=\"姓名\" placeholder=\"路晉\" v-model=\"order_detail.name\" >\n              <!-- 錯誤訊息 -->\n              <span class=\"invalid-feedback\">{{ errors[0] }}</span>\n            </validation-provider>\n          </div>\n          <div class=\"form-group col-md-6\">\n            <validation-provider rules=\"required|min:8|numeric\" tag=\"div\"\n              v-slot=\"{ errors, classes }\">\n              <label for=\"inputTel\">電話</label>\n              <input type=\"tel\" class=\"form-control\" id=\"inputTel\" v-model=\"order_detail.tel\"\n              name=\"電話\" :class=\"classes\">\n            <!-- 錯誤訊息 -->\n              <span class=\"invalid-feedback\">{{ errors[0] }}</span>\n            </validation-provider>\n          </div>\n        </div>\n          <div class=\"form-group\">\n            <validation-provider rules=\"required|email\" tag=\"div\"\n                v-slot=\"{ errors, classes }\">\n              <label for=\"inputEmail\">電子郵件</label>\n              <input type=\"text\" class=\"form-control\" id=\"inputEmail\" placeholder=\"123@123.com\"\n                name=\"電子郵件\" v-model=\"order_detail.email\" :class=\"classes\">\n              <!-- 錯誤訊息 -->\n              <span class=\"invalid-feedback\">{{ errors[0] }}</span>\n            </validation-provider>\n          </div>\n          <div class=\"form-group\">\n            <validation-provider rules=\"required\"  tag=\"div\"\n                v-slot=\"{ errors, classes }\">\n              <label for=\"inputAddress\">地址</label>\n              <input type=\"text\" class=\"form-control\" id=\"inputAddress\" placeholder=\"地址\"\n              name=\"地址\" :class=\"classes\" v-model=\"order_detail.address\">\n              <!-- 錯誤訊息 -->\n              <span class=\"invalid-feedback\">{{ errors[0] }}</span>\n            </validation-provider>\n          </div>\n          <!-- 付款方式 -->\n          <div class=\"form-group\">\n            <validation-provider rules=\"required\" tag=\"div\"\n            v-slot=\"{ errors, classes}\">\n              <label for=\"paymentSelect\" class=\"font-weight-bold\">購買方式</label>\n                <select class=\"select-arrow form-control \" id=\"paymentSelect\"\n                  v-model=\"order_detail.payment\" :class=\"classes\" name=\"付款方式\">\n                  <!-- <option >請選擇付款方式</option> -->\n                    <option value selected disabled hidden >請選擇付款方式</option>\n                    <option value=\"WebATM\">WebATM</option>\n                    <option value=\"ATM\">ATM</option>\n                    <option value=\"Barcode\">Barcode</option>\n                    <option value=\"Credit\">Credit</option>\n                    <option value=\"ApplePay\">ApplePay</option>\n                    <option value=\"GooglePay\">GooglePay</option>\n                </select>\n                <span class=\"invalid-feedback\">{{ errors[0] }}</span>\n            </validation-provider>\n          </div>\n          <!-- 留言 -->\n          <div class=\"form-group\">\n            <label for=\"formMessage\" class=\"font-weight-bold\">留言</label>\n            <textarea class=\"form-control\" id=\"formMessage\" rows=\"3\"\n              v-model=\"order_detail.message\"></textarea>\n          </div>\n          <div class=\"d-flex justify-content-end\">\n            <!-- <router-link class=\"btn btn-primary p-3 w-50\"\n              to=\"/checkout/payment\" :disabled=\"invalid\">\n              送出訂單\n            </router-link> -->\n            <button type=\"submit\" class=\"btn btn-primary p-3 w-50\" :disabled=\"invalid\">\n              送出表單\n            </button>\n          </div>\n      </form>\n    </validation-observer>\n          </div>\n\n      </div>\n      <div class=\"col-lg-5 col-md-12 col-12\">\n        <div class=\"bg-base py-6 px-3  sticky-top\" style=\"min-height: 100vh;\">\n          <h3 class=\"px-5\">訂單明細</h3>\n          <div class=\"order p-5\">\n            <table class=\"table order-table\">\n              <thead>\n                <tr v-for=\"item in carts\" :key=\"item.product.id + 1\">\n                  <td>\n                    <img :src=\"item.product.imageUrl[0]\"\n                      alt=\"\" class=\"table-img\">\n                  </td>\n                  <td class=\"font-weight-bold text-vcraftsman-dark\">\n                    {{ item.product.title }} {{ item.quantity }}\n                  </td>\n                  <td class=\"text-right\">\n                    {{ item.product.price * item.quantity  | currency }}\n                  </td>\n                </tr>\n              </thead>\n              <tbody>\n                <tr>\n                  <td colspan=\"2\">小計</td>\n                  <td class=\"text-right\">NT{{ cartTotal | currency }}</td>\n                </tr>\n                <tr>\n                  <td colspan=\"2\">\n                    <div class=\"input-group input-group-sm\">\n                      <input type=\"text\"\n                        placeholder=\"請輸入優惠碼\" class=\"form-control rounded-0\"\n                        v-model=\"coupon_code\">\n                      <div class=\"input-group-append\">\n                        <button type=\"button\"\n                          class=\"btn btn-outline-secondary rounded-0\"\n                          :class=\"{disabled:coupon_code ===''}\"\n                          @click.prevent=\"addCouponCode\">\n                          套用優惠碼\n                          <i v-if=\"isProcessing\"\n                          class=\"fas fa-circle-notch fa-spin\"></i>\n                        </button>\n                      </div>\n                    </div>\n                  </td>\n                  <td class=\"text-right text-danger\"\n                    v-if=\"coupon.enabled\">\n                    {{ discount | currency}}\n                  </td>\n                  <td class=\"text-right text-danger\"\n                    v-else>\n                      0\n                  </td>\n                </tr>\n              </tbody>\n              <tfoot>\n                <tr>\n                  <td colspan=\"2\" class=\"font-weight-bold \">總共</td>\n                  <td class=\"text-right font-weight-bold \">NT{{ countTotal | currency }}</td>\n                </tr>\n              </tfoot>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      carts: [],\n      cartTotal: 0,\n      cartSubTotal: 0,\n      coupon_code: '',\n      coupon: {},\n      discount: 0,\n      order_detail: {\n        email: '',\n        name: '',\n        tel: '',\n        address: '',\n        coupon: '',\n        payment: '',\n        message: '',\n      },\n      isLoading: false,\n      isProcessing: false,\n    };\n  },\n  created() {\n    this.getCart();\n  },\n  computed: {\n    countTotal() {\n      return Math.ceil(this.cartTotal - this.discount);\n    },\n  },\n  methods: {\n    getCart() {\n      // GET api/{uuid}/ec/shopping\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/ec/shopping`;\n      this.$http.get(url).then((res) => {\n        this.isLoading = false;\n        this.carts = res.data.data;\n        this.cartTotal = 0;\n        this.carts.forEach((item) => {\n          this.cartTotal += item.product.price * item.quantity;\n        });\n      });\n    },\n    addCouponCode() {\n      const url = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/ec/coupon/search`;\n      this.isProcessing = true;\n      this.discount = 0;\n      this.$http\n        .post(url, { code: this.coupon_code })\n        .then((res) => {\n          this.getCart();\n          this.coupon = res.data.data;\n          const sum = Math.ceil(this.cartTotal * (this.coupon.percent / 100));\n          this.discount = sum - this.cartTotal;\n          this.$bus.$emit('sendCoupon', this.coupon_code);\n          this.isProcessing = false;\n        });\n    },\n    createOrder() {\n    // 新增一筆訂單 POST api/{uuid}/ec/orders\n\n      const url = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/ec/orders`;\n\n      this.$http.post(url, this.order_detail)\n        .then((response) => {\n          if (response.data.data.id) {\n            // eslint-disable-next-line no-console\n            console.log('success');\n            this.$router.push(`/checkout_payment/${response.data.data.id}`);\n          }\n        })\n        .catch(() => {\n          // eslint-disable-next-line no-console\n          console.log('error');\n        });\n\n      // eslint-disable-next-line no-console\n      console.log('表單已送出');\n    },\n  },\n};\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout_order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout_order.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Checkout_order.vue?vue&type=template&id=60595a1b&\"\nimport script from \"./Checkout_order.vue?vue&type=script&lang=js&\"\nexport * from \"./Checkout_order.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}